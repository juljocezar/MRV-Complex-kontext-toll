
<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MRV Assistant | Professional Forensic Suite</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://aistudiocdn.com/reactflow@^11.11.4/dist/style.css" />
    
    <!-- GLOBAL SAFETY NET: F√§ngt Fehler ab, bevor die App l√§dt -->
    <script>
      window.onerror = function(msg, url, line, col, error) {
        var root = document.getElementById('root');
        if(root) {
          // Zeige den Notfall-Screen, wenn ein Fehler auftritt
          root.innerHTML = `
            <div style="background:#0f172a;color:#ef4444;height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;font-family:sans-serif;text-align:center;padding:20px;">
              <h1 style="font-size:2rem;margin-bottom:20px;">‚ö†Ô∏è System-Absturz</h1>
              <p style="color:#cbd5e1;margin-bottom:20px;">Die Anwendung konnte nicht starten.</p>
              <div style="background:rgba(0,0,0,0.3);padding:15px;border-radius:5px;margin-bottom:30px;text-align:left;overflow:auto;max-width:800px;font-family:monospace;border:1px solid #334155;">
                <strong>Fehler:</strong> ${msg}<br/>
                <small style="color:#94a3b8">${url}:${line}:${col}</small>
              </div>
              <button onclick="localStorage.clear();indexedDB.deleteDatabase('MRVAssistantDB');window.location.reload()" 
                style="background:#dc2626;color:white;border:none;padding:15px 30px;border-radius:8px;font-weight:bold;cursor:pointer;font-size:1.1rem;box-shadow:0 4px 10px rgba(0,0,0,0.5);">
                DATENBANK ZUR√úCKSETZEN & NEUSTARTEN
              </button>
              <p style="margin-top:20px;color:#64748b;font-size:0.9rem;">Dies l√∂scht den lokalen Speicher und behebt meistens Konflikte.</p>
            </div>
          `;
        }
        return false; // Fehler auch in Konsole ausgeben
      };
    </script>

    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              sans: ['Inter', 'sans-serif'],
              mono: ['JetBrains Mono', 'monospace'],
            },
            colors: {
              slate: {
                850: '#1e293b',
                950: '#0f172a',
              }
            }
          }
        }
      }
    </script>
    <style>
      body {
        font-family: 'Inter', sans-serif;
        scrollbar-width: thin;
        scrollbar-color: #334155 #0f172a;
      }
      .custom-scrollbar::-webkit-scrollbar { width: 6px; }
      .custom-scrollbar::-webkit-scrollbar-track { background: #0f172a; }
      .custom-scrollbar::-webkit-scrollbar-thumb { background: #334155; border-radius: 10px; }
      
      .glass-card {
        background: rgba(30, 41, 59, 0.7);
        backdrop-filter: blur(12px);
        border: 1px solid rgba(255, 255, 255, 0.05);
      }
      
      .tab-transition {
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      }
    </style>
<script type="importmap">
{
  "imports": {
    "react/": "https://aistudiocdn.com/react@^18.2.0/",
    "react": "https://aistudiocdn.com/react@^18.2.0",
    "react-dom/": "https://aistudiocdn.com/react-dom@^18.2.0/",
    "@google/genai": "https://aistudiocdn.com/@google/genai@^1.20.0",
    "marked": "https://aistudiocdn.com/marked@^16.3.0",
    "lunr": "https://aistudiocdn.com/lunr@^2.3.9",
    "reactflow": "https://aistudiocdn.com/reactflow@^11.11.4",
    "wink-nlp": "https://cdn.jsdelivr.net/npm/wink-nlp@1.14.3/+esm",
    "wink-eng-lite-web-model": "https://cdn.jsdelivr.net/npm/wink-eng-lite-web-model@1.7.1/+esm",
    "tesseract.js": "https://cdn.jsdelivr.net/npm/tesseract.js@5.0.5/+esm",
    "vite": "https://esm.sh/vite@^7.3.1",
    "@vitejs/plugin-react": "https://esm.sh/@vitejs/plugin-react@^5.1.2"
  }
}
</script>
</head>
<body class="bg-slate-950 text-slate-200">
    <div id="root">
      <!-- Fallback-Content: Wird angezeigt, bis React l√§dt -->
      <div style="height:100vh;width:100vw;display:flex;align-items:center;justify-content:center;background:#0f172a;color:#64748b;font-family:sans-serif;">
        <div style="text-align:center;">
          <div style="font-size:3rem;margin-bottom:1rem;animation:pulse 2s infinite;">üõ°Ô∏è</div>
          <div style="font-weight:600;">Lade MRV Assistent...</div>
          <div style="font-size:0.8rem;margin-top:0.5rem;opacity:0.7;">Initialisiere Datenbank & Module</div>
        </div>
      </div>
      <style>
        @keyframes pulse { 0% { opacity: 0.5; } 50% { opacity: 1; } 100% { opacity: 0.5; } }
      </style>
    </div>
    <script type="module" src="/index.tsx"></script>
</body>
</html>
